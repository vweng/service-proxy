{
  "type": "object",
  "$schema": "http://json-schema.org/draft-04/schema",
  "id": "https://secure.toronto.ca/cc_api/svcaccount_v1/WaterAccount/",
  "oneOf": [
    {
      "additionalProperties": false,
      "required": [
        "API_OP",
        "ACCOUNT_NUMBER",
        "LAST_NAME",
        "LAST_PAYMENT_METHOD"
      ],
      "properties": {
        "API_OP": {
          "enum": [
            "VALIDATE"
          ]
        },
        "ACCOUNT_NUMBER": {
          "type": "string",
          "pattern": "^\\d{9}-?\\d{9}-?0\\d$",
          "maxLength": 22
        },
        "LAST_NAME": {
          "type": "string",
          "pattern": "^[0-9a-zA-Z]{1,100}$",
          "maxLength": 100
        },
        "POSTAL_CODE": {
          "type": "string",
          "pattern": "^[a-zA-Z]{1}\\d{1}[a-zA-Z]{1} \\d{1}[a-zA-Z]{1}\\d{1}$",
          "maxLength": 7
        },
        "LAST_PAYMENT_METHOD": {
          "type": "string",
          "pattern": "^\\d{1}$",
          "maxLength": 1
        }
      }
    },
    {
      "additionalProperties": false,
      "required": [
        "API_OP",
        "ACCOUNT_NUMBER"
      ],
      "properties": {
        "API_OP": {
          "enum": [
            "ACCOUNTDETAILS"
          ]
        },
        "ACCOUNT_NUMBER": {
          "type": "string",
          "pattern": "^\\d{9}-?\\d{9}-?0\\d$",
          "maxLength": 22
        }
      }
    },
    {
      "additionalProperties": false,
      "required": [
        "API_OP",
        "ACCOUNT_NUMBER",
        "MIU_ID",
        "START_DATE",
        "END_DATE",
        "INTERVAL_TYPE"
      ],
      "properties": {
        "API_OP": {
          "enum": [
            "CONSUMPTION"
          ]
        },
        "ACCOUNT_NUMBER": {
          "type": "string",
          "pattern": "^\\d{9}-?\\d{9}-?0\\d$",
          "maxLength": 22
        },
        "MIU_ID": {
          "type": "string",
          "pattern": "^\\d{1,12}$",
          "maxLength": 12
        },
        "START_DATE": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
          "maxLength": 10
        },
        "END_DATE": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
          "maxLength": 10
        },
        "INTERVAL_TYPE": {
          "enum": [
            "Hour",
            "Day",
            "Night",
            "Week",
            "Month",
            "Year"
          ]
        }
      }
    },
    {
      "additionalProperties": false,
      "required": [
        "API_OP",
        "ACCOUNT_NUMBER",
        "METERGROUP_ID",
        "START_DATE",
        "END_DATE",
        "INTERVAL_TYPE"
      ],
      "properties": {
        "API_OP": {
          "enum": [
            "GROUPCONSUMPTION"
          ]
        },
        "ACCOUNT_NUMBER": {
          "type": "string",
          "pattern": "^\\d{9}-?\\d{9}-?0\\d$",
          "maxLength": 22
        },
        "METERGROUP_ID": {
          "type": "string",
          "pattern": "^\\d{1,10}$",
          "maxLength": 10
        },
        "START_DATE": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
          "maxLength": 10
        },
        "END_DATE": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
          "maxLength": 10
        },
        "INTERVAL_TYPE": {
          "enum": [
            "Hour",
            "Day",
            "Night",
            "Week",
            "Month",
            "Year"
          ]
        }
      }
    },
    {
      "additionalProperties": false,
      "required": [
        "API_OP",
        "ACCOUNT_NUMBER",
        "START_DATE",
        "END_DATE",
        "INTERVAL_TYPE"
      ],
      "properties": {
        "API_OP": {
          "enum": [
            "WEATHERDATA"
          ]
        },
        "ACCOUNT_NUMBER": {
          "type": "string",
          "pattern": "^\\d{9}-?\\d{9}-?0\\d$",
          "maxLength": 22
        },
        "START_DATE": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
          "maxLength": 10
        },
        "END_DATE": {
          "type": "string",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
          "maxLength": 10
        },
        "INTERVAL_TYPE": {
          "enum": [
            "Hour",
            "Day",
            "Night",
            "Week",
            "Month",
            "Year"
          ]
        }
      }
    }
  ]
}